<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rose Day ðŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

<style>
html,body{
    margin:0;
    padding:0;
    overflow:hidden;
    background:#000;
}

#nameTag{
    position:absolute;
    bottom:40px;
    width:100%;
    text-align:center;
    font-family:'Great Vibes',cursive;
    font-size:64px;
    color:#ffd36b;
    text-shadow:
        0 0 10px #ffb700,
        0 0 25px #ff0055,
        0 0 50px #ff0055;
    pointer-events:none;
}

@media(max-width:600px){
    #nameTag{font-size:42px;}
}
</style>
</head>

<body>
<div id="nameTag"></div>

<!-- Three.js CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r160/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r160/examples/js/postprocessing/EffectComposer.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r160/examples/js/postprocessing/RenderPass.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r160/examples/js/postprocessing/UnrealBloomPass.js"></script>

<script>
/* =======================
   PERSONALIZE HERE
======================= */
const HER_NAME = "INSHA MALIK";

/* ===================== */

document.getElementById("nameTag").innerText = HER_NAME;

let scene = new THREE.Scene();

let camera = new THREE.PerspectiveCamera(
    45,
    window.innerWidth/window.innerHeight,
    0.1,
    1000
);
camera.position.set(0,4,10);

let renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth,window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);
document.body.appendChild(renderer.domElement);

/* Lighting */

scene.add(new THREE.AmbientLight(0x552222,0.6));

let light1 = new THREE.PointLight(0xff3366,2,50);
light1.position.set(6,6,6);
scene.add(light1);

let light2 = new THREE.PointLight(0xff99aa,1.5,50);
light2.position.set(-6,4,-6);
scene.add(light2);

/* Bloom */

let composer = new THREE.EffectComposer(renderer);
composer.addPass(new THREE.RenderPass(scene,camera));

let bloom = new THREE.UnrealBloomPass(
    new THREE.Vector2(window.innerWidth,window.innerHeight),
    1.3,
    0.5,
    0.15
);
composer.addPass(bloom);

/* Velvet Rose Shader */

const petalMaterial = new THREE.ShaderMaterial({
    side:THREE.DoubleSide,
    vertexShader:`
        varying vec2 vUv;
        void main(){
            vUv = uv;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);
        }
    `,
    fragmentShader:`
        varying vec2 vUv;
        float rand(vec2 c){
            return fract(sin(dot(c,vec2(12.9898,78.233))) * 43758.5453);
        }
        void main(){
            float shade = smoothstep(0.0,1.0,vUv.y);
            vec3 red = vec3(0.7 + 0.3*shade,0.03,0.12);
            red += rand(vUv*500.0)*0.04;
            gl_FragColor = vec4(red,1.0);
        }
    `
});

/* Procedural Rose */

let rose = new THREE.Group();

function petal(angle,height){
    let geo = new THREE.PlaneGeometry(1.2,2.5,20,20);
    geo.translate(0,1.2,0);

    let mesh = new THREE.Mesh(geo,petalMaterial);
    mesh.rotation.y = angle;
    mesh.rotation.x = -0.5 + Math.random()*0.3;
    mesh.position.y = height;

    rose.add(mesh);
}

for(let r=0;r<6;r++){
    let count = 10 + r*4;
    for(let i=0;i<count;i++){
        petal((i/count)*Math.PI*2,r*0.35);
    }
}

rose.scale.set(2.6,2.6,2.6);
scene.add(rose);

/* Falling Petals */

let petalGeo = new THREE.PlaneGeometry(0.25,0.6);
let petalMat = new THREE.MeshBasicMaterial({color:0xff3366,side:THREE.
