<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rose Day</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

<style>
html,body{
margin:0;
padding:0;
overflow:hidden;
background:black;
}

#nameTag{
position:absolute;
bottom:40px;
width:100%;
text-align:center;
font-family:'Great Vibes',cursive;
font-size:60px;
color:#ffd36b;
text-shadow:0 0 15px #ff0077,0 0 40px #ff0077;
}
</style>
</head>

<body>
<div id="nameTag"></div>

<script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>

<script>
const HER_NAME = "INSHA MALIK";
document.getElementById("nameTag").innerText = HER_NAME;

const scene = new THREE.Scene();
scene.fog = new THREE.Fog(0x000000,5,40);

const camera = new THREE.PerspectiveCamera(45,innerWidth/innerHeight,0.1,100);
camera.position.set(0,3,9);

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
renderer.setPixelRatio(devicePixelRatio);
document.body.appendChild(renderer.domElement);

/* Lights */

scene.add(new THREE.AmbientLight(0x552222,0.7));

const light1 = new THREE.PointLight(0xff3366,2,50);
light1.position.set(4,6,6);
scene.add(light1);

const light2 = new THREE.PointLight(0xff99aa,1.5,50);
light2.position.set(-6,4,-6);
scene.add(light2);

/* Rose */

const material = new THREE.MeshPhongMaterial({
color:0xaa0033,
shininess:80,
side:THREE.DoubleSide
});

const rose = new THREE.Group();

function addPetal(angle,height){
const geo = new THREE.PlaneGeometry(1.1,2.3,10,10);
geo.translate(0,1.1,0);
const mesh = new THREE.Mesh(geo,material);
mesh.rotation.y = angle;
mesh.rotation.x = -0.5;
mesh.position.y = height;
rose.add(mesh);
}

for(let r=0;r<6;r++){
let count = 8+r*4;
for(let i=0;i<count;i++){
addPetal((i/count)*Math.PI*2,r*0.35);
}
}

rose.scale.set(2.4,2.4,2.4);
scene.add(rose);

/* Falling petals */

const pGeo = new THREE.PlaneGeometry(0.25,0.5);
const pMat = new THREE.MeshBasicMaterial({color:0xff3366,side:THREE.DoubleSide});
const petals=[];

function reset(p){
p.position.set((Math.random()-0.5)*40,Math.random()*20,(Math.random()-0.5)*40);
p.speed=0.01+Math.random()*0.03;
p.wind=(Math.random()-0.5)*0.02;
}

for(let i=0;i<1500;i++){
const p=new THREE.Mesh(pGeo,pMat);
reset(p);
scene.add(p);
petals.push(p);
}

function fall(){
petals.forEach(p=>{
p.position.y-=p.speed;
p.position.x+=p.wind;
if(p.position.y<-5) reset(p);
});
}

/* Animate */

function animate(){
requestAnimationFrame(animate);
rose.rotation.y+=0.002;
fall();
renderer.render(scene,camera);
}
animate();

window.addEventListener("resize",()=>{
camera.aspect=innerWidth/innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(innerWidth,innerHeight);
});
</script>
</body>
</html>
